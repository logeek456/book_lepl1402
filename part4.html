

<!doctype html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Part 4: Object Oriented Programming: Data Structures and Design Patterns &#8212; LEPL1402  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/bizstyle.css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Part 5: Parallel Programming" href="part5.html" />
    <link rel="prev" title="Part 3: Algorithms" href="part3.html" />

    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <!--[if lt IE 9]>
    <script src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-125847974-1']);
  _gaq.push(['_trackPageview']);
</script>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="part5.html" title="Part 5: Parallel Programming"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="part3.html" title="Part 3: Algorithms"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">LEPL1402  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Part 4: Object Oriented Programming: Data Structures and Design Patterns</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="part-4-object-oriented-programming-data-structures-and-design-patterns">
<span id="part4"></span><h1>Part 4: Object Oriented Programming: Data Structures and Design Patterns<a class="headerlink" href="#part-4-object-oriented-programming-data-structures-and-design-patterns" title="Permalink to this heading">¶</a></h1>
<section id="abstract-classes">
<span id="id1"></span><h2>Abstract classes<a class="headerlink" href="#abstract-classes" title="Permalink to this heading">¶</a></h2>
<p>An abstract class in Java is a class that cannot be instantiated on its own and is intended to be a parent class.
Abstract classes are used when you want to provide a common base for different subclasses but do not want this base class to be instantiated on its own.
They can contain both fully implemented (concrete) methods and abstract methods (methods without a body).</p>
<p>Imagine we are designing a geometric drawing program that incorporates scientific computations, such as calculating the area of various shapes.
In this program, the formula for computing the area will be dependent on the specific shape, but there will also be common functionalities.
For instance, each shape should have the capability to print information about itself.
Additionally, the program is designed to allow users to define their own shapes.</p>
<p>Our design objective is to adhere to the crucial “Open/Closed Principle” (OCP) of object-oriented programming.
This principle advocates that software entities (such as classes, modules, and functions) should be open for extension but closed for modification.
This approach ensures that our program can grow and adapt over time without necessitating alterations to the existing, stable parts of the code.</p>
<p>Abstract classes become immensely valuable in this context.
We can encapsulate all the common functionalities for handling the various geometric shapes into an abstract class, thereby avoiding code duplication.
This abstract class will define methods that are common across all shapes, such as a method to print information about the shape.
However, for specific functionalities that vary from one shape to another, such as the computation of area, we leave the method abstract.</p>
<div class="literal-block-wrapper docutils container" id="shape-abstract">
<div class="code-block-caption"><span class="caption-text">Shape Abstract Class</span><a class="headerlink" href="#shape-abstract" title="Permalink to this code">¶</a></div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">abstract</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Shape</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">shapeName</span><span class="p">;</span><span class="w"> </span><span class="c1">// Instance variable to hold the name of the shape</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">Shape</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">shapeName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Abstract method to calculate the area of the shape</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">abstract</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="nf">calculateArea</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// A concrete method implemented in the abstract class</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">displayShapeInfo</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;The &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">shapeName</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; has an area of: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">calculateArea</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>With this design, introducing new shapes into the program is straightforward and does not require to change the structure of existing code.
We simply add new subclasses for the new shapes.</p>
<div class="literal-block-wrapper docutils container" id="shape-concrete">
<div class="code-block-caption"><span class="caption-text">Concrete shapes</span><a class="headerlink" href="#shape-concrete" title="Permalink to this code">¶</a></div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Circle</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Shape</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">radius</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">Circle</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">radius</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">super</span><span class="p">(</span><span class="s">&quot;Circle&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">radius</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">radius</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="nf">calculateArea</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Math</span><span class="p">.</span><span class="na">PI</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">radius</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">radius</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Rectangle</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Shape</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">length</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">width</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">Rectangle</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">length</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">width</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">super</span><span class="p">(</span><span class="s">&quot;Rectangle&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">width</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="nf">calculateArea</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">width</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Triangle</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Shape</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">base</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">height</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">Triangle</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">base</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">height</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">super</span><span class="p">(</span><span class="s">&quot;Triangle&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">base</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">base</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">height</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="nf">calculateArea</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">base</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">height</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>To compute the total area of all shapes in an array, we can create a static method that takes an array of <code class="docutils literal notranslate"><span class="pre">Shape</span></code> objects as its parameter.
This method will iterate on it, invoking the <code class="docutils literal notranslate"><span class="pre">calculateArea()</span></code> method on each <code class="docutils literal notranslate"><span class="pre">Shape</span></code> object, and accumulate the total area.
This static method remains valid even if you introduce later a new shape in your library.</p>
<div class="literal-block-wrapper docutils container" id="shapeutils">
<div class="code-block-caption"><span class="caption-text">Shape Utils</span><a class="headerlink" href="#shapeutils" title="Permalink to this code">¶</a></div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">ShapeUtils</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="c1">// Static method to compute the total area of an array of shapes</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="nf">calculateTotalArea</span><span class="p">(</span><span class="n">Shape</span><span class="o">[]</span><span class="w"> </span><span class="n">shapes</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">totalArea</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span>

<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">Shape</span><span class="w"> </span><span class="n">shape</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">shapes</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">totalArea</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">shape</span><span class="p">.</span><span class="na">calculateArea</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">totalArea</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Shape</span><span class="o">[]</span><span class="w"> </span><span class="n">shapes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="k">new</span><span class="w"> </span><span class="n">Circle</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">),</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Triangle</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">)};</span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">totalArea</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">calculateTotalArea</span><span class="p">(</span><span class="n">shapes</span><span class="p">);</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Total Area: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">totalArea</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</section>
<section id="interfaces">
<span id="id2"></span><h2>Interfaces<a class="headerlink" href="#interfaces" title="Permalink to this heading">¶</a></h2>
<p>An interface in Java is a class that is completely abstract. In other words, none of its methods has a concrete implementation. Interfaces are used to group related methods with empty bodies.
Interfaces specify what a class must do, but not how it does it.</p>
<p>One advantage of interfaces over abstract classes is the ability of a class to implement multiple interfaces.
Remember that Java doesn’t allow to <a class="reference internal" href="part1.html#multiple-inheritance"><span class="std std-ref">extend multiple classes</span></a>.</p>
<p>Therefore interfaces promote a higher degree of flexibility and modularity in software design than abstract classes, but they don’t often the same facility in terms of factorization of the code.</p>
<div class="literal-block-wrapper docutils container" id="interface-camera-mediaplayer">
<div class="code-block-caption"><span class="caption-text">Camera and MediaPlayer interfaces</span><a class="headerlink" href="#interface-camera-mediaplayer" title="Permalink to this code">¶</a></div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">Camera</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">takePhoto</span><span class="p">();</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">recordVideo</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">MediaPlayer</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">playAudio</span><span class="p">();</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">playVideo</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="smartphone">
<div class="code-block-caption"><span class="caption-text">Smartphone</span><a class="headerlink" href="#smartphone" title="Permalink to this code">¶</a></div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Smartphone</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Camera</span><span class="p">,</span><span class="w"> </span><span class="n">MediaPlayer</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">takePhoto</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Taking a photo&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">recordVideo</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Recording video&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">playAudio</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Playing audio&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">playVideo</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Playing video&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</section>
<section id="abstract-data-types-adt">
<h2>Abstract Data Types (ADT)<a class="headerlink" href="#abstract-data-types-adt" title="Permalink to this heading">¶</a></h2>
<p>In the context of data collection, an Abstract Data Type (ADT) is a high-level description of a collection of data and of the operations that can be performed on this data.</p>
<p>An ADT can best be described by an interface in Java. This interface specifies what operations can be done on the data, but without prescribing how these operations will be implemented.
Implementation details are abstracted away.</p>
<p>It means that the underlying implementation of an ADT can change without affecting how the users of the ADT interact with it.</p>
<p>Abstract Data Types are present in the Java Collections Framework.
Let’s consider the <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html">List</a>  interface that belongs to the standard <code class="docutils literal notranslate"><span class="pre">java.util</span></code> namespace.
This is one of the most frequently used Abstract Data Types.
It defines an ordered collection of elements, with duplicates allowed.
<code class="docutils literal notranslate"><span class="pre">List</span></code> is an ADT because it specifies a set of operations (e.g., <code class="docutils literal notranslate"><span class="pre">add(E</span> <span class="pre">e)</span></code>, <code class="docutils literal notranslate"><span class="pre">get(int</span> <span class="pre">index)</span></code>, <code class="docutils literal notranslate"><span class="pre">remove(int</span> <span class="pre">index)</span></code>, <code class="docutils literal notranslate"><span class="pre">size()</span></code>) that you can perform on a list without specifying how these operations are concretely implemented.</p>
<p>To get a concrete implementation of a <code class="docutils literal notranslate"><span class="pre">List</span></code>, you must use one of the concrete classes that implement this interface,
for instance <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html">ArrayList</a> or <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/util/LinkedList.html">LinkedList</a>.
Whatever the one you choose the high level contract described at the interface level remain the same, although depending on the instanciation you might have different behaviors in terms of speed for example.</p>
<p>One example of the <code class="docutils literal notranslate"><span class="pre">List</span></code> ADT is given next.</p>
<div class="literal-block-wrapper docutils container" id="java-list">
<div class="code-block-caption"><span class="caption-text">Example of usage of a Java List</span><a class="headerlink" href="#java-list" title="Permalink to this code">¶</a></div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.LinkedList</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">LinkedListExample</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">fruits</span><span class="p">;</span><span class="w"> </span><span class="c1">// declaring a List ADT reference</span>

<span class="w">        </span><span class="n">fruits</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">LinkedList</span><span class="o">&lt;&gt;</span><span class="p">();</span><span class="w"> </span><span class="c1">// Initializing it using LinkedList</span>
<span class="w">        </span><span class="c1">// fruits = new ArrayList&lt;&gt;(); This would also work using ArrayList instead</span>

<span class="w">        </span><span class="c1">// Adding elements</span>
<span class="w">        </span><span class="n">fruits</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;Apple&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">fruits</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;Banana&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">fruits</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;Cherry&quot;</span><span class="p">);</span>


<span class="w">        </span><span class="c1">// Removing an element</span>
<span class="w">        </span><span class="n">fruits</span><span class="p">.</span><span class="na">remove</span><span class="p">(</span><span class="s">&quot;Banana&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>In the example above, you see the special notation <code class="docutils literal notranslate"><span class="pre">&lt;&gt;</span></code> that is associated with <a class="reference internal" href="part1.html#generics"><span class="std std-ref">generics</span></a> in Java.
Generics correspond to the concept of type parameters, allowing you to write code that is parameterized by one or more types.
The core idea is to allow type (classes and interfaces) to be parameters when defining classes, interfaces, and methods.</p>
<p>This enables you to create generic algorithms that can work on collections of different types, classes, interfaces, and methods that operate on a parameterized type.
Generics offer a way to define and enforce strong type-checks at compile-time without committing to a specific data type.</p>
<p>Java introduced support for generics in 2004, as a part of Java 5 (formally referred to as J2SE 5.0). In earlier versions of Java generics did not exit.
You could add any type of object to collections, which was prone to runtime type-casting errors, as illustrated in this example:</p>
<div class="literal-block-wrapper docutils container" id="java-list-no-generics">
<div class="code-block-caption"><span class="caption-text">Example of <code class="docutils literal notranslate"><span class="pre">ClassCastException</span></code> at runtime</span><a class="headerlink" href="#java-list-no-generics" title="Permalink to this code">¶</a></div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.LinkedList</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>

<span class="n">List</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="p">();</span>
<span class="n">list</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;hello&quot;</span><span class="p">);</span>
<span class="n">list</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span><span class="w"> </span><span class="c1">// This is fine without generics</span>
<span class="n">String</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">String</span><span class="p">)</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span><span class="w"> </span><span class="c1">// ClassCastException at runtime</span>
</pre></div>
</div>
</div>
<p>With generics, the type of elements you can add is restricted at compile-time, eliminating the potential for <code class="docutils literal notranslate"><span class="pre">ClassCastException</span></code> at runtime. In the example above, you would have used the <code class="docutils literal notranslate"><span class="pre">List&lt;String&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">ArrayList&lt;String&gt;</span></code> parametrized classes instead of the <code class="docutils literal notranslate"><span class="pre">List</span></code> and <code class="docutils literal notranslate"><span class="pre">ArrayList</span></code> plain classes. Consequently, the call to <code class="docutils literal notranslate"><span class="pre">list.add(1)</span></code> would have resulted in a compilation error, because <code class="docutils literal notranslate"><span class="pre">1</span></code> is not a <code class="docutils literal notranslate"><span class="pre">String</span></code>.</p>
<p>Generics enable you to write generalized algorithms and classes based on parameterized types, making it possible to reuse the same method, class, or interface for different data types.</p>
<section id="stack-adt">
<h3>Stack ADT<a class="headerlink" href="#stack-adt" title="Permalink to this heading">¶</a></h3>
<p>Let us now study in-depth an ADT called <code class="docutils literal notranslate"><span class="pre">Stack</span></code> that is also frequently used by programmers.
A stack is a collection that operates on a Last-In-First-Out (LIFO) principle.
The primary operations of a <code class="docutils literal notranslate"><span class="pre">Stack</span></code> are <code class="docutils literal notranslate"><span class="pre">push()</span></code>, <code class="docutils literal notranslate"><span class="pre">pop()</span></code>, and <code class="docutils literal notranslate"><span class="pre">peek()</span></code>, as described in the next interface:</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">Stack ADT</span><a class="headerlink" href="#id3" title="Permalink to this code">¶</a></div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">StackADT</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Pushes an item onto the top of this stack.</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">push</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">item</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Removes and returns the top item from this stack.</span>
<span class="w">    </span><span class="n">T</span><span class="w"> </span><span class="nf">pop</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Returns the top item from this stack without removing it.</span>
<span class="w">    </span><span class="n">T</span><span class="w"> </span><span class="nf">peek</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Returns true if this stack is empty.</span>
<span class="w">    </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">isEmpty</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Returns the number of items in this stack.</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">size</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>Let us now see some possible concrete implementations of this interface.</p>
<section id="implementing-a-stack-with-a-linked-structure">
<span id="linked-stack-adt"></span><h4>Implementing a Stack With a Linked Structure<a class="headerlink" href="#implementing-a-stack-with-a-linked-structure" title="Permalink to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">LinkedStack</span></code> is an implementation of the <code class="docutils literal notranslate"><span class="pre">Stack</span></code> ADT that uses a linked list structure to store its elements.
Each element in the stack is stored in a node, and each node has a reference to the next node (like individual wagons are connected in a train).
The top of the stack is maintained as a reference to the first node (head) of the linked list.</p>
<div class="literal-block-wrapper docutils container" id="linked-stack">
<div class="code-block-caption"><span class="caption-text">Linked Stack ADT</span><a class="headerlink" href="#linked-stack" title="Permalink to this code">¶</a></div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">LinkedStack</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Stack</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Node</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">top</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">size</span><span class="p">;</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Node</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">T</span><span class="w"> </span><span class="n">item</span><span class="p">;</span>
<span class="w">        </span><span class="n">Node</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">next</span><span class="p">;</span>

<span class="w">        </span><span class="n">Node</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">item</span><span class="p">,</span><span class="w"> </span><span class="n">Node</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">next</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">item</span><span class="p">;</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">next</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">push</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">item</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">top</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Node</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="n">item</span><span class="p">,</span><span class="w"> </span><span class="n">top</span><span class="p">);</span>
<span class="w">        </span><span class="n">size</span><span class="o">++</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="nf">pop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RuntimeException</span><span class="p">(</span><span class="s">&quot;Stack is empty&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="n">T</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">top</span><span class="p">.</span><span class="na">item</span><span class="p">;</span>
<span class="w">        </span><span class="n">top</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">top</span><span class="p">.</span><span class="na">next</span><span class="p">;</span>
<span class="w">        </span><span class="n">size</span><span class="o">--</span><span class="p">;</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">item</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="nf">peek</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RuntimeException</span><span class="p">(</span><span class="s">&quot;Stack is empty&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">top</span><span class="p">.</span><span class="na">item</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">isEmpty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">top</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">size</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">size</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>The state of the linked stack after pushing 1, 5 and 3 in this order is illustrated on the next figure.</p>
<figure class="align-default">
<a class="reference internal image-reference" href="_images/list.png"><img alt="LinkedStack" src="_images/list.png" style="width: 531.0px; height: 101.0px;" /></a>
</figure>
</section>
<section id="implementing-a-stack-with-an-array">
<h4>Implementing a Stack With an Array<a class="headerlink" href="#implementing-a-stack-with-an-array" title="Permalink to this heading">¶</a></h4>
<p>Another method for implementing the <code class="docutils literal notranslate"><span class="pre">Stack</span></code> ADT is by utilizing an internal array to hold the elements.
An implementation is given in the next code fragment:</p>
<div class="literal-block-wrapper docutils container" id="array-stack">
<div class="code-block-caption"><span class="caption-text">Array Stack ADT</span><a class="headerlink" href="#array-stack" title="Permalink to this code">¶</a></div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">DynamicArrayStack</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Stack</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">T</span><span class="o">[]</span><span class="w"> </span><span class="n">array</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">top</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@SuppressWarnings</span><span class="p">(</span><span class="s">&quot;unchecked&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">DynamicArrayStack</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">initialCapacity</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">array</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">T</span><span class="o">[]</span><span class="p">)</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Object</span><span class="o">[</span><span class="n">initialCapacity</span><span class="o">]</span><span class="p">;</span>
<span class="w">        </span><span class="n">top</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">push</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">item</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">top</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">array</span><span class="p">.</span><span class="na">length</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">resize</span><span class="p">(</span><span class="mi">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">array</span><span class="p">.</span><span class="na">length</span><span class="p">);</span><span class="w"> </span><span class="c1">// double the size</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="n">array</span><span class="o">[++</span><span class="n">top</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">item</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="nf">pop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RuntimeException</span><span class="p">(</span><span class="s">&quot;Stack is empty&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="n">T</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array</span><span class="o">[</span><span class="n">top</span><span class="o">]</span><span class="p">;</span>
<span class="w">        </span><span class="n">array</span><span class="o">[</span><span class="n">top</span><span class="o">--]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span><span class="w"> </span><span class="c1">// to prevent memory leak</span>

<span class="w">        </span><span class="c1">// shrink the size if necessary</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">top</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">top</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">array</span><span class="p">.</span><span class="na">length</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">resize</span><span class="p">(</span><span class="n">array</span><span class="p">.</span><span class="na">length</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">item</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="nf">peek</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RuntimeException</span><span class="p">(</span><span class="s">&quot;Stack is empty&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">array</span><span class="o">[</span><span class="n">top</span><span class="o">]</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">isEmpty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">top</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">size</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">top</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@SuppressWarnings</span><span class="p">(</span><span class="s">&quot;unchecked&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">resize</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">newCapacity</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">T</span><span class="o">[]</span><span class="w"> </span><span class="n">newArray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">T</span><span class="o">[]</span><span class="p">)</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Object</span><span class="o">[</span><span class="n">newCapacity</span><span class="o">]</span><span class="p">;</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">top</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">newArray</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="n">array</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newArray</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>The internal array is initialized with a size larger than the expected number of elements in the stack to prevent frequent resizing.</p>
<p>An integer variable, often termed <code class="docutils literal notranslate"><span class="pre">top</span></code> or <code class="docutils literal notranslate"><span class="pre">size</span></code>, represents the current position in the stack. When pushing a new element onto the stack, it is added at the position indicated by this integer. Subsequently, the integer is incremented. The <code class="docutils literal notranslate"><span class="pre">pop()</span></code> operation reverses this process: The element at the current position is retrieved, and the integer is decremented. Both the <code class="docutils literal notranslate"><span class="pre">push()</span></code> and <code class="docutils literal notranslate"><span class="pre">pop()</span></code> operations have constant time complexity: <img class="math" src="_images/math/1c780ff223ec80f15ed09341bdb9396a8bb2a4ed.svg" alt="O(1)"/>.</p>
<p>However, there’s an inherent limitation when using arrays in Java: Their size is fixed upon creation. Thus, if the stack’s size grows to match the internal array’s size, any further push operation risks an <code class="docutils literal notranslate"><span class="pre">ArrayIndexOutOfBoundsException</span></code>.</p>
<p>To counteract this limitation, when the internal array is detected to be full, its size is doubled. This is achieved by creating a new array whose capacity is doubled with respect to the current array, then copying the contents of the current array to the new one. Although this resizing operation has a linear time complexity of <img class="math" src="_images/math/3c582d9a5675f447fdb2947388ed396388789dba.svg" alt="O(n)"/>, where
<img class="math" src="_images/math/5a939c5280da7202ca4531f175a7780ad5e1f80a.svg" alt="n"/> is the number of elements, it doesn’t happen often.</p>
<p>In addition, to avoid inefficiencies in terms of memory usage, if the size of the stack drops to one-quarter of the internal array’s capacity, the array size is halved. This prevents the array from being overly sparse and consuming unnecessary memory.</p>
<p>Although resizing (either increasing or decreasing the size) requires <img class="math" src="_images/math/3c582d9a5675f447fdb2947388ed396388789dba.svg" alt="O(n)"/> time in the worst case, this cost is distributed over many operations, making the average cost constant. This is known as amortized analysis. Thus, when analyzed in an amortized sense, the average cost per operation over
<img class="math" src="_images/math/5a939c5280da7202ca4531f175a7780ad5e1f80a.svg" alt="n"/> operations is <img class="math" src="_images/math/1c780ff223ec80f15ed09341bdb9396a8bb2a4ed.svg" alt="O(1)"/>.</p>
</section>
<section id="evaluating-arithmetic-expressions-with-a-stack">
<h4>Evaluating Arithmetic Expressions with a Stack<a class="headerlink" href="#evaluating-arithmetic-expressions-with-a-stack" title="Permalink to this heading">¶</a></h4>
<p>A typical use of stacks is to evaluate arithmetic expressions, as demonstrated in the next algorithm:</p>
<div class="literal-block-wrapper docutils container" id="stack-expressions">
<div class="code-block-caption"><span class="caption-text">Evaluating Expressions Using Stacks</span><a class="headerlink" href="#stack-expressions" title="Permalink to this code">¶</a></div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ArithmeticExpression</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">evaluate</span><span class="p">(</span><span class="s">&quot;( ( 2 * ( 3 + 5 ) ) / 4 )&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">expression</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="n">Stack</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ops</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">LinkedStack</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="p">();</span>
<span class="w">        </span><span class="n">Stack</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">&gt;</span><span class="w"> </span><span class="n">vals</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">LinkedStack</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">&gt;</span><span class="p">();</span>

<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">s</span><span class="p">:</span><span class="w"> </span><span class="n">expression</span><span class="p">.</span><span class="na">split</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// INVARIANT</span>
<span class="w">            </span><span class="k">if</span><span class="w">      </span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;(&quot;</span><span class="p">))</span><span class="w">               </span><span class="p">;</span>
<span class="w">            </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;+&quot;</span><span class="p">))</span><span class="w">    </span><span class="n">ops</span><span class="p">.</span><span class="na">push</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
<span class="w">            </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;-&quot;</span><span class="p">))</span><span class="w">    </span><span class="n">ops</span><span class="p">.</span><span class="na">push</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
<span class="w">            </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;*&quot;</span><span class="p">))</span><span class="w">    </span><span class="n">ops</span><span class="p">.</span><span class="na">push</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
<span class="w">            </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;/&quot;</span><span class="p">))</span><span class="w">    </span><span class="n">ops</span><span class="p">.</span><span class="na">push</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
<span class="w">            </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;)&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">String</span><span class="w"> </span><span class="n">op</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ops</span><span class="p">.</span><span class="na">pop</span><span class="p">();</span>
<span class="w">                </span><span class="kt">double</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vals</span><span class="p">.</span><span class="na">pop</span><span class="p">();</span>
<span class="w">                </span><span class="k">if</span><span class="w">      </span><span class="p">(</span><span class="n">op</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;+&quot;</span><span class="p">))</span><span class="w">    </span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vals</span><span class="p">.</span><span class="na">pop</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">v</span><span class="p">;</span>
<span class="w">                </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">op</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;-&quot;</span><span class="p">))</span><span class="w">    </span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vals</span><span class="p">.</span><span class="na">pop</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">v</span><span class="p">;</span>
<span class="w">                </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">op</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;*&quot;</span><span class="p">))</span><span class="w">    </span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vals</span><span class="p">.</span><span class="na">pop</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">v</span><span class="p">;</span>
<span class="w">                </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">op</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;/&quot;</span><span class="p">))</span><span class="w">    </span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vals</span><span class="p">.</span><span class="na">pop</span><span class="p">()</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">v</span><span class="p">;</span>
<span class="w">                </span><span class="n">vals</span><span class="p">.</span><span class="na">push</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="k">else</span><span class="w"> </span><span class="n">vals</span><span class="p">.</span><span class="na">push</span><span class="p">(</span><span class="n">Double</span><span class="p">.</span><span class="na">parseDouble</span><span class="p">(</span><span class="n">s</span><span class="p">));</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">vals</span><span class="p">.</span><span class="na">pop</span><span class="p">();</span>

<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>The time complexity of the algorithm is clearly <img class="math" src="_images/math/3c582d9a5675f447fdb2947388ed396388789dba.svg" alt="O(n)"/> where <img class="math" src="_images/math/5a939c5280da7202ca4531f175a7780ad5e1f80a.svg" alt="n"/> is the size of the input string:</p>
<ul class="simple">
<li><p>Each token (whether it is a number, operator, or parenthesis) in the expression is read and processed exactly once.</p></li>
<li><p>Pushing and popping elements from a stack take constant time, <img class="math" src="_images/math/1c780ff223ec80f15ed09341bdb9396a8bb2a4ed.svg" alt="O(1)"/>.</p></li>
<li><p>Arithmetic operations (addition, subtraction, multiplication, and division) are performed in constant time, <img class="math" src="_images/math/1c780ff223ec80f15ed09341bdb9396a8bb2a4ed.svg" alt="O(1)"/>.</p></li>
</ul>
<p>To understand and convince one-self about the correctness of the algorithm, we should try to discover an invariant.
As can be seen, a fully parenthesized expression can be represented as a binary tree where the parenthesis are not necessary:</p>
<figure class="align-default">
<a class="reference internal image-reference" href="_images/expression.png"><img alt="Arithmetic Expression" src="_images/expression.png" style="width: 523.0px; height: 653.0px;" /></a>
</figure>
<p>The internal nodes are the operator and the leaf nodes are the values.
The algorithm uses two stacks. One stack (<code class="docutils literal notranslate"><span class="pre">ops</span></code>) is for operators and the other (<code class="docutils literal notranslate"><span class="pre">vals</span></code>) is for (reduced) values.
The program splits the input string <code class="docutils literal notranslate"><span class="pre">args[0]</span></code> by spaces to process each token of the expression individually.</p>
<p>We will not formalize completely the invariant here but give some intuition about what it is.</p>
<p>At any point during the processing of the expression:</p>
<ol class="arabic simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">vals</span></code> stack contains the results of all fully evaluated sub-expressions (reduced subtrees) encountered so far.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">ops</span></code> stack contains operators that are awaiting their right-hand operands to form a complete sub-expression (subtree) that can be reduced.</p></li>
<li><p>For every operator in the <code class="docutils literal notranslate"><span class="pre">ops</span></code> stack, its corresponding left-hand operand is already in the <code class="docutils literal notranslate"><span class="pre">vals</span></code> stack, awaiting the completion of its subtree for reduction.</p></li>
</ol>
<p>The figure displays the status of the stacks at three distinct stages for our brief example.</p>
<p>When we encounter an operand, it is like encountering a leaf of this tree, and we immediately know its value, so it is pushed onto the <code class="docutils literal notranslate"><span class="pre">vals</span></code> stack.</p>
<p>When we encounter an operator, it is pushed onto the <code class="docutils literal notranslate"><span class="pre">ops</span></code> stack. This operator is awaiting its right-hand operand to form a complete subtree. Its left-hand operand is already on the <code class="docutils literal notranslate"><span class="pre">vals</span></code> stack.</p>
<p>When a closing parenthesis <code class="docutils literal notranslate"><span class="pre">)</span></code> is encountered, it indicates the end of a fully parenthesized sub-expression, corresponding to an entire subtree of the expression. This subtree is “reduced” or “evaluated” in the following manner:</p>
<ol class="arabic simple">
<li><p>The operator for this subtree is popped from the <code class="docutils literal notranslate"><span class="pre">ops</span></code> stack.</p></li>
<li><p>The right-hand operand (the value of the right subtree) is popped from the <code class="docutils literal notranslate"><span class="pre">vals</span></code> stack.</p></li>
<li><p>The left-hand operand (the value of the left subtree) is popped from the <code class="docutils literal notranslate"><span class="pre">vals</span></code> stack.</p></li>
<li><p>The operator is applied to the two operands, and the result (the value of the entire subtree) is pushed back onto the <code class="docutils literal notranslate"><span class="pre">vals</span></code> stack.</p></li>
</ol>
<p>This invariant captures the essence of the algorithm’s approach to the problem: It traverses the expression tree in a sort of depth-first manner, evaluating each subtree as it is fully identified by its closing parenthesis.</p>
<p>This algorithm taking a <code class="docutils literal notranslate"><span class="pre">String</span></code> as its input is a an example of an interpreter.
Interpreted programming languages (like Python) do similarly but accept constructs that a slightly more complex that parenthesized arithmetic expressions.</p>
<div class="note admonition">
<p class="admonition-title">Exercise</p>
<p>Write an recursive algorithm for evaluation arithmetic expressions.
This program will not use explicit stacks but rely on the call stack instead.</p>
</div>
</section>
</section>
<section id="trees">
<h3>Trees<a class="headerlink" href="#trees" title="Permalink to this heading">¶</a></h3>
<div class="literal-block-wrapper docutils container" id="linkedbinarytree">
<div class="code-block-caption"><span class="caption-text">LinkedBinaryTree</span><a class="headerlink" href="#linkedbinarytree" title="Permalink to this code">¶</a></div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">LinkedBinaryTree</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="n">Node</span><span class="w"> </span><span class="n">root</span><span class="p">;</span>

<span class="w">        </span><span class="kd">class</span> <span class="nc">Node</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="w">            </span><span class="kd">public</span><span class="w"> </span><span class="n">Node</span><span class="w"> </span><span class="n">left</span><span class="p">;</span>
<span class="w">            </span><span class="kd">public</span><span class="w"> </span><span class="n">Node</span><span class="w"> </span><span class="n">right</span><span class="p">;</span>

<span class="w">            </span><span class="kd">public</span><span class="w"> </span><span class="nf">Node</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">this</span><span class="p">.</span><span class="na">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">isLeaf</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">left</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">right</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">LinkedBinaryTree</span><span class="w"> </span><span class="nf">leaf</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">LinkedBinaryTree</span><span class="w"> </span><span class="n">tree</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">LinkedBinaryTree</span><span class="p">();</span>
<span class="w">            </span><span class="n">tree</span><span class="p">.</span><span class="na">root</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tree</span><span class="p">.</span><span class="na">new</span><span class="w"> </span><span class="nf">Node</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">tree</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">LinkedBinaryTree</span><span class="w"> </span><span class="nf">combine</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="n">LinkedBinaryTree</span><span class="w"> </span><span class="n">left</span><span class="p">,</span><span class="w"> </span><span class="n">LinkedBinaryTree</span><span class="w"> </span><span class="n">right</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">LinkedBinaryTree</span><span class="w"> </span><span class="n">tree</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">LinkedBinaryTree</span><span class="p">();</span>
<span class="w">            </span><span class="n">tree</span><span class="p">.</span><span class="na">root</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tree</span><span class="p">.</span><span class="na">new</span><span class="w"> </span><span class="nf">Node</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
<span class="w">            </span><span class="n">tree</span><span class="p">.</span><span class="na">root</span><span class="p">.</span><span class="na">left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">left</span><span class="p">.</span><span class="na">root</span><span class="p">;</span>
<span class="w">            </span><span class="n">tree</span><span class="p">.</span><span class="na">root</span><span class="p">.</span><span class="na">right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">right</span><span class="p">.</span><span class="na">root</span><span class="p">;</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">tree</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<figure class="align-default" id="id6">
<span id="binary-tree"></span><a class="reference internal image-reference" href="_images/binary_tree.png"><img alt="Binary Tree example" src="_images/binary_tree.png" style="width: 293.0px; height: 257.0px;" /></a>
<figcaption>
<p><span class="caption-text">BinaryTree</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<div class="literal-block-wrapper docutils container" id="linkedbinarytree-construction">
<div class="code-block-caption"><span class="caption-text">LinkedBinaryTree Construction</span><a class="headerlink" href="#linkedbinarytree-construction" title="Permalink to this code">¶</a></div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">LinkedBinaryTree</span><span class="w"> </span><span class="n">tree</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">combine</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span>
<span class="w">                               </span><span class="n">combine</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span>
<span class="w">                                       </span><span class="n">leaf</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span>
<span class="w">                                       </span><span class="n">combine</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span>
<span class="w">                                               </span><span class="n">combine</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span>
<span class="w">                                                       </span><span class="n">leaf</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span>
<span class="w">                                                       </span><span class="n">leaf</span><span class="p">(</span><span class="mi">7</span><span class="p">)),</span>
<span class="w">                                               </span><span class="n">leaf</span><span class="p">(</span><span class="mi">3</span><span class="p">))),</span>
<span class="w">                               </span><span class="n">leaf</span><span class="p">(</span><span class="mi">3</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<section id="tree-traversals">
<h4>Tree Traversals<a class="headerlink" href="#tree-traversals" title="Permalink to this heading">¶</a></h4>
<p>Tree traversal strategies are methods used to visit all the nodes in a tree, such as a binary tree.
The three common traversal strategies are pre-order, in-order, and post-order.
Here’s a brief explanation of each:</p>
<ul class="simple">
<li><p>Pre-order traversal visits the current node, then traverse the left subtree, and finally, traverse the right subtree.</p></li>
<li><p>In-order traversal traverses the left subtree, visit the current node, and then traverse the right subtree.</p></li>
<li><p>Post-order Traversal traverses the left subtree, then the right subtree, and finally visit the current node.</p></li>
</ul>
<p>The code for each traversal is given next.</p>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">Tre Traversal</span><a class="headerlink" href="#id4" title="Permalink to this code">¶</a></div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">preOrderPrint</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">preOrderPrint</span><span class="p">(</span><span class="n">root</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">preOrderPrint</span><span class="p">(</span><span class="n">Node</span><span class="w"> </span><span class="n">current</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">current</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">print</span><span class="p">(</span><span class="n">current</span><span class="p">.</span><span class="na">val</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">preOrderPrint</span><span class="p">(</span><span class="n">current</span><span class="p">.</span><span class="na">left</span><span class="p">);</span>
<span class="w">        </span><span class="n">preOrderPrint</span><span class="p">(</span><span class="n">current</span><span class="p">.</span><span class="na">right</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">inOrderPrint</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">inOrderPrint</span><span class="p">(</span><span class="n">root</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">inOrderPrint</span><span class="p">(</span><span class="n">Node</span><span class="w"> </span><span class="n">current</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">current</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="n">inOrderPrint</span><span class="p">(</span><span class="n">current</span><span class="p">.</span><span class="na">left</span><span class="p">);</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">print</span><span class="p">(</span><span class="n">current</span><span class="p">.</span><span class="na">val</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">inOrderPrint</span><span class="p">(</span><span class="n">current</span><span class="p">.</span><span class="na">right</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">postOrderPrint</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">postOrderPrint</span><span class="p">(</span><span class="n">root</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">postOrderPrint</span><span class="p">(</span><span class="n">Node</span><span class="w"> </span><span class="n">current</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">current</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="n">postOrderPrint</span><span class="p">(</span><span class="n">current</span><span class="p">.</span><span class="na">left</span><span class="p">);</span>
<span class="w">        </span><span class="n">postOrderPrint</span><span class="p">(</span><span class="n">current</span><span class="p">.</span><span class="na">right</span><span class="p">);</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">print</span><span class="p">(</span><span class="n">current</span><span class="p">.</span><span class="na">val</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
</pre></div>
</div>
</div>
<p>Here is the output order obtained on the binary represented <a class="reference internal" href="#binary-tree"><span class="std std-ref">BinaryTree</span></a> for each traversals:</p>
<ul class="simple">
<li><p>Pre-Order: 5, 8, 2, 7, 6, 5, 7, 3, 3</p></li>
<li><p>In-Order: 2, 8, 5, 6, 7, 7, 3, 5, 3</p></li>
<li><p>Post-Order: 2, 5, 7, 6, 3, 7, 8, 3, 5</p></li>
</ul>
<p>Visiting a binary tree with <code class="docutils literal notranslate"><span class="pre">n</span></code> nodes takes <img class="math" src="_images/math/529a0c57cd2fea8b0566dea7a79f2dd436bc280b.svg" alt="\Theta(n)"/> (assuming the visit of one node takes a constant time),
since each node is visited exactly once.</p>
<div class="note admonition">
<p class="admonition-title">Exercise</p>
<p>Write an iterative algorithm (not recursive) for implementing each of these traversals.
You will need to use an explicit stack.</p>
</div>
<p>We show next two practical examples using binary trees data-structures.</p>
</section>
<section id="representing-an-arithmetic-expression-with-tree">
<span id="arithmetic-expression"></span><h4>Representing an arithmetic Expression with Tree<a class="headerlink" href="#representing-an-arithmetic-expression-with-tree" title="Permalink to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">BinaryExpressionTree</span></code> class in the provided code is an abstract representation of a binary expression tree,
a data structure commonly used in computer science for representing expressions with binary operators (like <code class="docutils literal notranslate"><span class="pre">+,</span> <span class="pre">-,</span> <span class="pre">*,</span> <span class="pre">/</span></code>).</p>
<p>The set of expression methods (<code class="docutils literal notranslate"><span class="pre">mul()</span></code>, <code class="docutils literal notranslate"><span class="pre">div()</span></code>, <code class="docutils literal notranslate"><span class="pre">plus()</span></code>, <code class="docutils literal notranslate"><span class="pre">minus()</span></code>) allows to build easily expressions from other expressions.
These methods return a new <code class="docutils literal notranslate"><span class="pre">OperatorExpressionTree</span></code> object, which is a subclass of <code class="docutils literal notranslate"><span class="pre">BinaryExpressionTree</span></code>.
Each method takes another <code class="docutils literal notranslate"><span class="pre">BinaryExpressionTree</span></code> as an operand to the right of the operator.
The private static nested class <code class="docutils literal notranslate"><span class="pre">OperatorExpressionTree</span></code> represents an operator node in the tree with left and right children, which are also BinaryExpressionTree instances.
The private static nested class <code class="docutils literal notranslate"><span class="pre">ValueExpressionTree</span></code>  represents a leaf node in the tree that contains a value.
A convenience static method <code class="docutils literal notranslate"><span class="pre">value()</span></code> allows creating a <code class="docutils literal notranslate"><span class="pre">ValueExpressionTree</span></code> with a given integer value.
An example is provided in the main method for creating tree representation of the expression <code class="docutils literal notranslate"><span class="pre">(2</span> <span class="pre">*</span> <span class="pre">((5+7)-3))</span> <span class="pre">/</span> <span class="pre">3</span></code>.</p>
<div class="literal-block-wrapper docutils container" id="expressiontree">
<div class="code-block-caption"><span class="caption-text">BinaryExpressionTree</span><a class="headerlink" href="#expressiontree" title="Permalink to this code">¶</a></div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">abstract</span><span class="w"> </span><span class="kd">class</span> <span class="nc">BinaryExpressionTree</span><span class="w"> </span><span class="p">{</span>


<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">BinaryExpressionTree</span><span class="w"> </span><span class="nf">mul</span><span class="p">(</span><span class="n">BinaryExpressionTree</span><span class="w"> </span><span class="n">right</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">OperatorExpressionTree</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="n">right</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;*&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">BinaryExpressionTree</span><span class="w"> </span><span class="nf">div</span><span class="p">(</span><span class="n">BinaryExpressionTree</span><span class="w"> </span><span class="n">right</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">OperatorExpressionTree</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="n">right</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;/&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">BinaryExpressionTree</span><span class="w"> </span><span class="nf">plus</span><span class="p">(</span><span class="n">BinaryExpressionTree</span><span class="w"> </span><span class="n">right</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">OperatorExpressionTree</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="n">right</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;+&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">BinaryExpressionTree</span><span class="w"> </span><span class="nf">minus</span><span class="p">(</span><span class="n">BinaryExpressionTree</span><span class="w"> </span><span class="n">right</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">OperatorExpressionTree</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="n">right</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">OperatorExpressionTree</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">BinaryExpressionTree</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">BinaryExpressionTree</span><span class="w"> </span><span class="n">left</span><span class="p">;</span>
<span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">BinaryExpressionTree</span><span class="w"> </span><span class="n">right</span><span class="p">;</span>
<span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">operator</span><span class="p">;</span>

<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="nf">OperatorExpressionTree</span><span class="p">(</span><span class="n">BinaryExpressionTree</span><span class="w"> </span><span class="n">left</span><span class="p">,</span><span class="w"> </span><span class="n">BinaryExpressionTree</span><span class="w"> </span><span class="n">right</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">operator</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">left</span><span class="p">;</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">right</span><span class="p">;</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">operator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">operator</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ValueExpressionTree</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">BinaryExpressionTree</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">value</span><span class="p">;</span>

<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="nf">ValueExpressionTree</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">BinaryExpressionTree</span><span class="w"> </span><span class="nf">value</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ValueExpressionTree</span><span class="p">(</span><span class="n">value</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">BinaryExpressionTree</span><span class="w"> </span><span class="n">expr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value</span><span class="p">(</span><span class="mi">2</span><span class="p">).</span><span class="na">mul</span><span class="p">(</span><span class="n">value</span><span class="p">(</span><span class="mi">5</span><span class="p">).</span><span class="na">plus</span><span class="p">(</span><span class="n">value</span><span class="p">(</span><span class="mi">7</span><span class="p">)).</span><span class="na">minus</span><span class="p">(</span><span class="n">value</span><span class="p">(</span><span class="mi">3</span><span class="p">)).</span><span class="na">div</span><span class="p">(</span><span class="n">value</span><span class="p">(</span><span class="mi">3</span><span class="p">)));</span><span class="w"> </span><span class="c1">// (2 * ((5+7)-3)) / 3</span>
<span class="w">    </span><span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
</div>
<p>We now enrich this class with two functionalities:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">evaluate()</span></code> is a method for evaluating the expression represented by the tree. This method performs a post-order traversal of the tree. The evaluation of the left sub-expression (left traversal) and the right subexpression (right traversal) must be first evaluated prior to applying the node operator (visit of the node).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prettyPrint()</span></code> is a method for printing the expression as full parenthesized representation. It corresponds to an infix traversal. The left subexpression is printed (left traversal) before printing the node operator (visit of the node) and then printing the right subexpression (right traversal).</p></li>
</ul>
<div class="literal-block-wrapper docutils container" id="expressiontree-enriched">
<div class="code-block-caption"><span class="caption-text">BinaryExpressionTree (Continued)</span><a class="headerlink" href="#expressiontree-enriched" title="Permalink to this code">¶</a></div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">abstract</span><span class="w"> </span><span class="kd">class</span> <span class="nc">BinaryExpressionTree</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="c1">// evaluate the expression</span>
<span class="w">    </span><span class="kd">abstract</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// print a fully parenthesized representation of the expression</span>
<span class="w">    </span><span class="kd">abstract</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">prettyPrint</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// mul , div, plus, minus not represented</span>


<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">OperatorExpressionTree</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">BinaryExpressionTree</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">BinaryExpressionTree</span><span class="w"> </span><span class="n">left</span><span class="p">;</span>
<span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">BinaryExpressionTree</span><span class="w"> </span><span class="n">right</span><span class="p">;</span>
<span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">operator</span><span class="p">;</span>

<span class="w">        </span><span class="c1">// constructor not represented</span>

<span class="w">        </span><span class="nd">@Override</span>
<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">prettyPrint</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;(&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">left</span><span class="p">.</span><span class="na">prettyPrint</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">operator</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">right</span><span class="p">.</span><span class="na">prettyPrint</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;)&quot;</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="nd">@Override</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">leftRes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">left</span><span class="p">.</span><span class="na">evaluate</span><span class="p">();</span>
<span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">rightRes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">right</span><span class="p">.</span><span class="na">evaluate</span><span class="p">();</span>
<span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">operator</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="sc">&#39;+&#39;</span><span class="p">:</span>
<span class="w">                    </span><span class="k">return</span><span class="w"> </span><span class="n">leftRes</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rightRes</span><span class="p">;</span>
<span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">:</span>
<span class="w">                    </span><span class="k">return</span><span class="w"> </span><span class="n">leftRes</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">rightRes</span><span class="p">;</span>
<span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="sc">&#39;/&#39;</span><span class="p">:</span>
<span class="w">                    </span><span class="k">return</span><span class="w"> </span><span class="n">leftRes</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">rightRes</span><span class="p">;</span>
<span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="sc">&#39;*&#39;</span><span class="p">:</span>
<span class="w">                    </span><span class="k">return</span><span class="w"> </span><span class="n">leftRes</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">rightRes</span><span class="p">;</span>
<span class="w">                </span><span class="k">default</span><span class="p">:</span>
<span class="w">                    </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&quot;unkown operator &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">operator</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ValueExpressionTree</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">BinaryExpressionTree</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">value</span><span class="p">;</span>

<span class="w">        </span><span class="c1">// constructor not represented</span>

<span class="w">        </span><span class="nd">@Override</span>
<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">prettyPrint</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="nd">@Override</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="note admonition">
<p class="admonition-title">Exercise</p>
<p>Enrich the BinaryExpressionTree with a method <code class="docutils literal notranslate"><span class="pre">rpnPrint()</span></code> to print the expression in <em>reverse Polish notation</em>.
In reverse Polish notation, the operators follow their operands. For example, to add 3 and 4 together, the expression is <code class="docutils literal notranslate"><span class="pre">3</span> <span class="pre">4</span> <span class="pre">+</span></code> rather than <code class="docutils literal notranslate"><span class="pre">3</span> <span class="pre">+</span> <span class="pre">4</span></code>.
This notation doesn’t need parenthesis: <code class="docutils literal notranslate"><span class="pre">(3</span> <span class="pre">×</span> <span class="pre">4)</span> <span class="pre">+</span> <span class="pre">(5</span> <span class="pre">×</span> <span class="pre">6)</span></code> becomes <code class="docutils literal notranslate"><span class="pre">3</span> <span class="pre">4</span> <span class="pre">×</span> <span class="pre">5</span> <span class="pre">6</span> <span class="pre">×</span> <span class="pre">+</span></code> in reverse Polish notation.</p>
</div>
</section>
<section id="representing-a-set-with-a-tree">
<h4>Representing a set with a tree<a class="headerlink" href="#representing-a-set-with-a-tree" title="Permalink to this heading">¶</a></h4>
<div class="literal-block-wrapper docutils container" id="binary-search-tree">
<div class="code-block-caption"><span class="caption-text">BinarySearchTree</span><a class="headerlink" href="#binary-search-tree" title="Permalink to this code">¶</a></div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">BinarySearchTree</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">IntSet</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Node</span><span class="w"> </span><span class="n">root</span><span class="p">;</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Node</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="n">Node</span><span class="w"> </span><span class="n">left</span><span class="p">;</span>
<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="n">Node</span><span class="w"> </span><span class="n">right</span><span class="p">;</span>

<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="nf">Node</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">isLeaf</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">left</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">right</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Method to add a value to the tree</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">add</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">root</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">addRecursive</span><span class="p">(</span><span class="n">root</span><span class="p">,</span><span class="w"> </span><span class="n">val</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Node</span><span class="w"> </span><span class="nf">addRecursive</span><span class="p">(</span><span class="n">Node</span><span class="w"> </span><span class="n">current</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">current</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Node</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">current</span><span class="p">.</span><span class="na">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">current</span><span class="p">.</span><span class="na">left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">addRecursive</span><span class="p">(</span><span class="n">current</span><span class="p">.</span><span class="na">left</span><span class="p">,</span><span class="w"> </span><span class="n">val</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">current</span><span class="p">.</span><span class="na">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">current</span><span class="p">.</span><span class="na">right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">addRecursive</span><span class="p">(</span><span class="n">current</span><span class="p">.</span><span class="na">right</span><span class="p">,</span><span class="w"> </span><span class="n">val</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="c1">// if val equals current.val, the value already exists, do nothing</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">current</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Method to check if the tree contains a specific value</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">contains</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">containsRecursive</span><span class="p">(</span><span class="n">root</span><span class="p">,</span><span class="w"> </span><span class="n">val</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">containsRecursive</span><span class="p">(</span><span class="n">Node</span><span class="w"> </span><span class="n">current</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">current</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">val</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">current</span><span class="p">.</span><span class="na">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">current</span><span class="p">.</span><span class="na">val</span>
<span class="w">                </span><span class="o">?</span><span class="w"> </span><span class="n">containsRecursive</span><span class="p">(</span><span class="n">current</span><span class="p">.</span><span class="na">left</span><span class="p">,</span><span class="w"> </span><span class="n">val</span><span class="p">)</span>
<span class="w">                </span><span class="p">:</span><span class="w"> </span><span class="n">containsRecursive</span><span class="p">(</span><span class="n">current</span><span class="p">.</span><span class="na">right</span><span class="p">,</span><span class="w"> </span><span class="n">val</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Main method for testing</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">BinarySearchTree</span><span class="w"> </span><span class="n">bst</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BinarySearchTree</span><span class="p">();</span>
<span class="w">        </span><span class="n">bst</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<span class="w">        </span><span class="n">bst</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="w">        </span><span class="n">bst</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="mi">7</span><span class="p">);</span>
<span class="w">        </span><span class="n">bst</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>

<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Contains 3: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">bst</span><span class="p">.</span><span class="na">contains</span><span class="p">(</span><span class="mi">3</span><span class="p">));</span><span class="w"> </span><span class="c1">// true</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Contains 6: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">bst</span><span class="p">.</span><span class="na">contains</span><span class="p">(</span><span class="mi">6</span><span class="p">));</span><span class="w"> </span><span class="c1">// false</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</section>
</section>
</section>
<section id="iterators">
<span id="id5"></span><h2>Iterators<a class="headerlink" href="#iterators" title="Permalink to this heading">¶</a></h2>
<p>An iterator is an object that facilitates the traversal of a data structure, especially collections, in a systematic manner without exposing the underlying details of that structure. The primary purpose of an iterator is to allow a programmer to process each element of a collection, one at a time, without needing to understand the inner workings or the specific memory layout of the collection.</p>
<p>Java provides an <code class="docutils literal notranslate"><span class="pre">Iterator</span></code> interface in the <code class="docutils literal notranslate"><span class="pre">java.util</span></code> package, which is implemented by various collection classes. This allows objects of those classes to create iterator instances on demand that can be used to traverse through the collection.</p>
<p>An iterator acts like a cursor pointing to some element within the collection.
The two important methods of an iterator are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">hasNext()</span></code>: Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if and only if there are more elements to iterate over.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">next()</span></code>: Returns the next element in the collection and advances the iterator. This method fails if <code class="docutils literal notranslate"><span class="pre">hasNext()</span></code> is <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
</ul>
<p>The method <code class="docutils literal notranslate"><span class="pre">remove()</span></code> is optional and will not be covered in this course.</p>
<p>The next example show how to use an iterator to print every element of a list.</p>
<div class="literal-block-wrapper docutils container" id="iterator">
<div class="code-block-caption"><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">Iterator</span></code> Usage Example</span><a class="headerlink" href="#iterator" title="Permalink to this code">¶</a></div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.ArrayList</span><span class="p">;</span>
<span class="w">    </span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Iterator</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">IteratorExample</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="w">            </span><span class="n">list</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;A&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="n">list</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;B&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="n">list</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;C&quot;</span><span class="p">);</span>

<span class="w">            </span><span class="n">Iterator</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="na">iterator</span><span class="p">();</span>
<span class="w">            </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">it</span><span class="p">.</span><span class="na">hasNext</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">String</span><span class="w"> </span><span class="n">element</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">it</span><span class="p">.</span><span class="na">next</span><span class="p">();</span>
<span class="w">                </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">element</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
</pre></div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">Iterable</span></code> should not be confused with <code class="docutils literal notranslate"><span class="pre">Iterator</span></code>.
It is also an interface in Java, found in the <code class="docutils literal notranslate"><span class="pre">java.lang</span> <span class="pre">package</span></code>.
An object is “iterable” if it implements the <code class="docutils literal notranslate"><span class="pre">Iterable</span></code> interface which has a single method:
<code class="docutils literal notranslate"><span class="pre">Iterator&lt;T&gt;</span> <span class="pre">iterator();</span></code>.
This essentially means that the object has the capability to provide an <code class="docutils literal notranslate"><span class="pre">Iterator</span></code> over itself.</p>
<p>Many data structures (like lists, sets, and queues) in the <code class="docutils literal notranslate"><span class="pre">java.util.collections</span></code> package implement the <code class="docutils literal notranslate"><span class="pre">Iterable</span></code> interface to provide a standardized method to iterate over their elements.</p>
<p>One of the main benefits of the <code class="docutils literal notranslate"><span class="pre">Iterable</span></code> interface is that it allows objects to be used with the <a class="reference internal" href="part1.html#simple-for-loops"><span class="std std-ref">enhanced for-each loop</span></a> in Java.
Any class that implements <code class="docutils literal notranslate"><span class="pre">Iterable</span></code> can be used in a for-each loop.
This is illustrated next that is equivalent to the previous code.</p>
<div class="literal-block-wrapper docutils container" id="iterable">
<div class="code-block-caption"><span class="caption-text">Iterator Usage Example relying on Iterable for for-loops</span><a class="headerlink" href="#iterable" title="Permalink to this code">¶</a></div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.ArrayList</span><span class="p">;</span>
<span class="w">    </span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Iterator</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">IteratorExample</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="w">            </span><span class="n">list</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;A&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="n">list</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;B&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="n">list</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;C&quot;</span><span class="p">);</span>

<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">element</span><span class="p">:</span><span class="w"> </span><span class="n">list</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">element</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
</pre></div>
</div>
</div>
<p>In conclusion, while they are closely related and often used together, <code class="docutils literal notranslate"><span class="pre">Iterable</span></code> and <code class="docutils literal notranslate"><span class="pre">Iterator</span></code> serve distinct purposes.
<code class="docutils literal notranslate"><span class="pre">Iterable</span></code> is about the ability to produce an <code class="docutils literal notranslate"><span class="pre">Iterator</span></code>, while <code class="docutils literal notranslate"><span class="pre">Iterator</span></code> is the mechanism that actually facilitates the traversal.</p>
<section id="implementing-your-own-iterators">
<span id="custom-iterators"></span><h3>Implementing your own iterators<a class="headerlink" href="#implementing-your-own-iterators" title="Permalink to this heading">¶</a></h3>
<p>To properly implement an <code class="docutils literal notranslate"><span class="pre">Iterator</span></code>, there are two possible strategies:</p>
<ol class="arabic simple">
<li><p>Fail-Fast: Such iterators throw <code class="docutils literal notranslate"><span class="pre">ConcurrentModificationException</span></code> if there is structural modification of the collection.</p></li>
<li><p>Fail-Safe: Such iterators don’t throw any exceptions if a collection is structurally modified while iterating over it. This is because they operate on the clone of the collection, not on the original collection.</p></li>
</ol>
<p>Fail-Safe iterator may be slower since one have to pay the cost of the clone at the creation of the iterator, even if we only end-up iterating over few elements. Therefore we will rather focus on the Fail-Fast strategy, which corresponds to the most frequent choice in the implementation of Java collections.</p>
<p>To implement a Fail-Fast iterator for our <code class="docutils literal notranslate"><span class="pre">LinkedStack</span></code>, we can keep track of a modification count for the stack.
This count will be incremented whenever there’s a structural modification to the stack (like pushing or popping).
The iterator will then capture this count when it is created and compare its own captured count to the stack’s modification count during iteration.
If they differ, the iterator will throw a <code class="docutils literal notranslate"><span class="pre">ConcurrentModificationException</span></code>.
The <code class="docutils literal notranslate"><span class="pre">LinkedStack</span></code> class has an inner <code class="docutils literal notranslate"><span class="pre">LinkedStackIterator</span></code> class that checks the modification count every time it is asked if there’s a next item or when retrieving the next item.
It is important to understand that <code class="docutils literal notranslate"><span class="pre">LinkedStackIterator</span></code> is an inner class, <em>not</em> a static nested class. An inner class cannot be instantiated without first instantiating the outer class and it is tied to a specific instance of the outer class. This is why, the instance variables of the <code class="docutils literal notranslate"><span class="pre">Iterator</span></code> inner class can be initialized using the instance variables of the outer class.</p>
<p>The sample main method demonstrates that trying to modify the stack during iteration (by pushing a new item) results in a
<code class="docutils literal notranslate"><span class="pre">ConcurrentModificationException</span></code>.</p>
<p>The creation of the iterator has a constant time complexity, <img class="math" src="_images/math/1c780ff223ec80f15ed09341bdb9396a8bb2a4ed.svg" alt="O(1)"/>. Indeed:</p>
<ol class="arabic simple">
<li><p>The iterator’s current node is set to the top node of the stack. This operation is done in constant time since it is just a reference assignment.</p></li>
<li><p>Modification Count Assignment: The iterator captures the current modification count of the stack. This again is a simple assignment operation, done in constant time.</p></li>
</ol>
<p>No other operations are involved in the iterator’s creation, and notably, there are no loops or recursive calls that would add to the time complexity. Therefore, the total time complexity of creating the LinkedStackIterator is <img class="math" src="_images/math/1c780ff223ec80f15ed09341bdb9396a8bb2a4ed.svg" alt="O(1)"/>.</p>
<div class="literal-block-wrapper docutils container" id="iterator-linkedstack">
<div class="code-block-caption"><span class="caption-text">Implementation of a Fail-Fast Iterator for the LinkedStack</span><a class="headerlink" href="#iterator-linkedstack" title="Permalink to this code">¶</a></div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Iterator</span><span class="p">;</span>
<span class="w">    </span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.ConcurrentModificationException</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">LinkedStack</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Iterable</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="n">Node</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">top</span><span class="p">;</span>
<span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">modCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">  </span><span class="c1">// Modification count</span>

<span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Node</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kd">private</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="n">item</span><span class="p">;</span>
<span class="w">            </span><span class="kd">private</span><span class="w"> </span><span class="n">Node</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">next</span><span class="p">;</span>

<span class="w">            </span><span class="n">Node</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">item</span><span class="p">,</span><span class="w"> </span><span class="n">Node</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">next</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">this</span><span class="p">.</span><span class="na">item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">item</span><span class="p">;</span>
<span class="w">                </span><span class="k">this</span><span class="p">.</span><span class="na">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">next</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">push</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">item</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">Node</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">oldTop</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">top</span><span class="p">;</span>
<span class="w">            </span><span class="n">top</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Node</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="n">item</span><span class="p">,</span><span class="w"> </span><span class="n">oldTop</span><span class="p">);</span>
<span class="w">            </span><span class="n">size</span><span class="o">++</span><span class="p">;</span>
<span class="w">            </span><span class="n">modCount</span><span class="o">++</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="nf">pop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">top</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalStateException</span><span class="p">(</span><span class="s">&quot;Stack is empty&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="n">T</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">top</span><span class="p">.</span><span class="na">item</span><span class="p">;</span>
<span class="w">            </span><span class="n">top</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">top</span><span class="p">.</span><span class="na">next</span><span class="p">;</span>
<span class="w">            </span><span class="n">size</span><span class="o">--</span><span class="p">;</span>
<span class="w">            </span><span class="n">modCount</span><span class="o">++</span><span class="p">;</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">item</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">isEmpty</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">top</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">size</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">size</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="nd">@Override</span>
<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="n">Iterator</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">iterator</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">LinkedStackIterator</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="kd">class</span> <span class="nc">LinkedStackIterator</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Iterator</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kd">private</span><span class="w"> </span><span class="n">Node</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">top</span><span class="p">;</span>
<span class="w">            </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">expectedModCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">modCount</span><span class="p">;</span>

<span class="w">            </span><span class="nd">@Override</span>
<span class="w">            </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">hasNext</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">expectedModCount</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">modCount</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ConcurrentModificationException</span><span class="p">();</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="nd">@Override</span>
<span class="w">            </span><span class="kd">public</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="nf">next</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">expectedModCount</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">modCount</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ConcurrentModificationException</span><span class="p">();</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">current</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalStateException</span><span class="p">(</span><span class="s">&quot;No more items&quot;</span><span class="p">);</span>

<span class="w">                </span><span class="n">T</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">current</span><span class="p">.</span><span class="na">item</span><span class="p">;</span>
<span class="w">                </span><span class="n">current</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">current</span><span class="p">.</span><span class="na">next</span><span class="p">;</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">item</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">LinkedStack</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">stack</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">LinkedStack</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="w">            </span><span class="n">stack</span><span class="p">.</span><span class="na">push</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="w">            </span><span class="n">stack</span><span class="p">.</span><span class="na">push</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="w">            </span><span class="n">stack</span><span class="p">.</span><span class="na">push</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>

<span class="w">            </span><span class="n">Iterator</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">iterator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">stack</span><span class="p">.</span><span class="na">iterator</span><span class="p">();</span>
<span class="w">            </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">iterator</span><span class="p">.</span><span class="na">hasNext</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">iterator</span><span class="p">.</span><span class="na">next</span><span class="p">());</span>
<span class="w">                </span><span class="n">stack</span><span class="p">.</span><span class="na">push</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span><span class="w">  </span><span class="c1">// Will cause ConcurrentModificationException at the next call to hasNext</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="delegation">
<span id="delegation-comparator"></span><h2>Delegation<a class="headerlink" href="#delegation" title="Permalink to this heading">¶</a></h2>
<p>Let us consider the <code class="docutils literal notranslate"><span class="pre">Book</span></code> class below:</p>
<div class="literal-block-wrapper docutils container" id="book">
<div class="code-block-caption"><span class="caption-text">Book</span><a class="headerlink" href="#book" title="Permalink to this code">¶</a></div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Book</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">title</span><span class="p">;</span>
<span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">author</span><span class="p">;</span>
<span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">publicationYear</span><span class="p">;</span>

<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="nf">Book</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">title</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">author</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">year</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">title</span><span class="p">;</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">author</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">author</span><span class="p">;</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">publicationYear</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">year</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// ... getters, setters, and other methods ...</span>
<span class="w">    </span><span class="p">}</span>
</pre></div>
</div>
</div>
<p>We aim to sort a collection of <code class="docutils literal notranslate"><span class="pre">Book</span></code> objects based on their titles in lexicographic order.
This can be done by implementing the <code class="docutils literal notranslate"><span class="pre">Comparable</span></code> interface that requires to define the <code class="docutils literal notranslate"><span class="pre">compareTo()</span></code> method.
The <code class="docutils literal notranslate"><span class="pre">compareTo()</span></code> method, when implemented within the <code class="docutils literal notranslate"><span class="pre">Book</span></code> class, leverages the inherent <code class="docutils literal notranslate"><span class="pre">compareTo()</span></code> method of the <code class="docutils literal notranslate"><span class="pre">String</span></code> class.</p>
<div class="literal-block-wrapper docutils container" id="book-comparable">
<div class="code-block-caption"><span class="caption-text">Book Comparable</span><a class="headerlink" href="#book-comparable" title="Permalink to this code">¶</a></div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.ArrayList</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Collections</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Book</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Comparable</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">title</span><span class="p">;</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">author</span><span class="p">;</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">publicationYear</span><span class="p">;</span>

<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="nf">Book</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">title</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">author</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">year</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">title</span><span class="p">;</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">author</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">author</span><span class="p">;</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">publicationYear</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">year</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="nd">@Override</span>
<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">compareTo</span><span class="p">(</span><span class="n">Book</span><span class="w"> </span><span class="n">other</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">title</span><span class="p">.</span><span class="na">compareTo</span><span class="p">(</span><span class="n">other</span><span class="p">.</span><span class="na">title</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="w"> </span><span class="n">books</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="w">            </span><span class="n">books</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Book</span><span class="p">(</span><span class="s">&quot;The Great Gatsby&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;F. Scott Fitzgerald&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1925</span><span class="p">));</span>
<span class="w">            </span><span class="n">books</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Book</span><span class="p">(</span><span class="s">&quot;Moby Dick&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Herman Melville&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1851</span><span class="p">));</span>
<span class="w">            </span><span class="n">books</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Book</span><span class="p">(</span><span class="s">&quot;1984&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;George Orwell&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1949</span><span class="p">));</span>

<span class="w">            </span><span class="n">Collections</span><span class="p">.</span><span class="na">sort</span><span class="p">(</span><span class="n">books</span><span class="p">);</span><span class="w">  </span><span class="c1">// Sorts by title due to the implemented Comparable</span>

<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">Book</span><span class="w"> </span><span class="n">book</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">books</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">book</span><span class="p">.</span><span class="na">getTitle</span><span class="p">());</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
</pre></div>
</div>
</div>
<p>Imagine that the books are displayed on a website, allowing visitors to browse through an extensive catalog.
To enhance user experience, the website provides a feature to sort the books not just by their titles, but also by other attributes: the author’s name or the publication year.</p>
<p>Now, the challenge arises: Our current <code class="docutils literal notranslate"><span class="pre">Book</span></code> class design uses the <code class="docutils literal notranslate"><span class="pre">Comparable</span></code> interface to determine the natural ordering of books based solely on their titles. While this design works perfectly for sorting by title, it becomes restrictive when we want to provide multiple sorting criteria (for instance, sorting by author or publication year). Since the <code class="docutils literal notranslate"><span class="pre">Comparable</span></code> interface mandates a single <code class="docutils literal notranslate"><span class="pre">compareTo()</span></code> method, it implies that there’s only one “natural” way to sort the objects of a class. This design decision binds us to sorting by title and makes it less straightforward to introduce additional sorting methods for other attributes.</p>
<p>A general important principle of object-oriented design is the <a class="reference internal" href="#abstract-classes"><span class="std std-ref">Open/Closed Principle (OCP)</span></a>: A software module (like a class or method) should be open for extension but closed for modification:</p>
<ol class="arabic simple">
<li><p>Open for Extension: This means that the behavior of the module can be extended or changed as the requirements of the application evolve or new functionalities are introduced.</p></li>
<li><p>Closed for Modification: Once the module is developed, it should not be modified to add new behavior or features. Any new functionality should be added by extending the module, not by making modifications to the existing code.</p></li>
</ol>
<p>The so-called <em>Delegate Design Pattern</em> can help us improve our design and is a nice example of the OCP.
In the example of <code class="docutils literal notranslate"><span class="pre">Book</span></code>, delegation occurs when the sorting algorithm (within <code class="docutils literal notranslate"><span class="pre">Collections.sort()</span></code>) calls the <code class="docutils literal notranslate"><span class="pre">compare()</span></code> method of the provided <code class="docutils literal notranslate"><span class="pre">Comparator</span></code> object.
The responsibility of defining how two <code class="docutils literal notranslate"><span class="pre">Book</span></code> objects compare is delegated to the <code class="docutils literal notranslate"><span class="pre">Comparator</span></code> object, allowing for flexibility in sorting criteria without modifying the <code class="docutils literal notranslate"><span class="pre">Book</span></code> class or the sorting algorithm itself.</p>
<p>This delegation approach with <code class="docutils literal notranslate"><span class="pre">Comparator</span></code> has a clear advantage over inheritance because you can define countless sorting criteria without needing to modify or subclass the original <code class="docutils literal notranslate"><span class="pre">Book</span></code> class.</p>
<p>Here are the three <code class="docutils literal notranslate"><span class="pre">Comparator</span></code> classes, one for each sorting criterion:</p>
<div class="literal-block-wrapper docutils container" id="book-comparators">
<div class="code-block-caption"><span class="caption-text">Book Comparators</span><a class="headerlink" href="#book-comparators" title="Permalink to this code">¶</a></div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Comparator</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">TitleComparator</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Comparator</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nd">@Override</span>
<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">compare</span><span class="p">(</span><span class="n">Book</span><span class="w"> </span><span class="n">b1</span><span class="p">,</span><span class="w"> </span><span class="n">Book</span><span class="w"> </span><span class="n">b2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">b1</span><span class="p">.</span><span class="na">getTitle</span><span class="p">().</span><span class="na">compareTo</span><span class="p">(</span><span class="n">b2</span><span class="p">.</span><span class="na">getTitle</span><span class="p">());</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">AuthorComparator</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Comparator</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nd">@Override</span>
<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">compare</span><span class="p">(</span><span class="n">Book</span><span class="w"> </span><span class="n">b1</span><span class="p">,</span><span class="w"> </span><span class="n">Book</span><span class="w"> </span><span class="n">b2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">b1</span><span class="p">.</span><span class="na">getAuthor</span><span class="p">().</span><span class="na">compareTo</span><span class="p">(</span><span class="n">b2</span><span class="p">.</span><span class="na">getAuthor</span><span class="p">());</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">YearComparator</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Comparator</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nd">@Override</span>
<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">compare</span><span class="p">(</span><span class="n">Book</span><span class="w"> </span><span class="n">b1</span><span class="p">,</span><span class="w"> </span><span class="n">Book</span><span class="w"> </span><span class="n">b2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">Integer</span><span class="p">.</span><span class="na">compare</span><span class="p">(</span><span class="n">b1</span><span class="p">.</span><span class="na">getPublicationYear</span><span class="p">(),</span><span class="w"> </span><span class="n">b2</span><span class="p">.</span><span class="na">getPublicationYear</span><span class="p">());</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
</pre></div>
</div>
</div>
<p>As next example shows, we can now sort by title, author or publication year by just providing the corresponding comparator to the sorting algorithm.</p>
<div class="literal-block-wrapper docutils container" id="book-comparators-example">
<div class="code-block-caption"><span class="caption-text">Book Comparators Example</span><a class="headerlink" href="#book-comparators-example" title="Permalink to this code">¶</a></div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.ArrayList</span><span class="p">;</span>
<span class="w">    </span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Collections</span><span class="p">;</span>
<span class="w">    </span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Main</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="w"> </span><span class="n">books</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="w">            </span><span class="n">books</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Book</span><span class="p">(</span><span class="s">&quot;The Great Gatsby&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;F. Scott Fitzgerald&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1925</span><span class="p">));</span>
<span class="w">            </span><span class="n">books</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Book</span><span class="p">(</span><span class="s">&quot;Moby Dick&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Herman Melville&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1851</span><span class="p">));</span>
<span class="w">            </span><span class="n">books</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Book</span><span class="p">(</span><span class="s">&quot;1984&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;George Orwell&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1949</span><span class="p">));</span>

<span class="w">            </span><span class="n">Collections</span><span class="p">.</span><span class="na">sort</span><span class="p">(</span><span class="n">books</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">TitleComparator</span><span class="p">());</span><span class="w">  </span><span class="c1">// Sort by title</span>
<span class="w">            </span><span class="n">Collections</span><span class="p">.</span><span class="na">sort</span><span class="p">(</span><span class="n">books</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AuthorComparator</span><span class="p">());</span><span class="w"> </span><span class="c1">// Sort by author</span>
<span class="w">            </span><span class="n">Collections</span><span class="p">.</span><span class="na">sort</span><span class="p">(</span><span class="n">books</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">YearComparator</span><span class="p">());</span><span class="w">   </span><span class="c1">// Sort by publication year</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="note admonition">
<p class="admonition-title">Exercise</p>
<blockquote>
<div><p>You are developing a document management system. As part of the system, you have a <code class="docutils literal notranslate"><span class="pre">Document</span></code> class that contains content.
You want to provide a printing capability for the <code class="docutils literal notranslate"><span class="pre">Document</span></code>.</p>
<p>Instead of embedding the printing logic directly within the <code class="docutils literal notranslate"><span class="pre">Document</span></code> class, you decide to use the delegate design pattern.
This will allow the <code class="docutils literal notranslate"><span class="pre">Document</span></code> class to delegate the responsibility of printing to another class, thus adhering to the single responsibility principle.</p>
<p>Complete the code below.</p>
<div class="literal-block-wrapper docutils container" id="printers">
<div class="code-block-caption"><span class="caption-text">Printers</span><a class="headerlink" href="#printers" title="Permalink to this code">¶</a></div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// The Printer interface</span>
<span class="kd">interface</span> <span class="nc">Printer</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">print</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">content</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// TODO: Implement the Printer interface for InkjetPrinter</span>
<span class="kd">class</span> <span class="nc">InkjetPrinter</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">...</span>
<span class="p">}</span>

<span class="c1">// TODO: Implement the Printer interface for LaserPrinter</span>
<span class="kd">class</span> <span class="nc">LaserPrinter</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">...</span>
<span class="p">}</span>

<span class="c1">// Document class</span>
<span class="kd">class</span> <span class="nc">Document</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">content</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Printer</span><span class="w"> </span><span class="n">printerDelegate</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">Document</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">content</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">content</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// TODO: Set the printer delegate</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setPrinterDelegate</span><span class="p">(...)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">...</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// TODO: Print the document using the delegate</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">printDocument</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">...</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Demo</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">DelegateDemo</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Document</span><span class="w"> </span><span class="n">doc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Document</span><span class="p">(</span><span class="s">&quot;This is a sample document content.&quot;</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// TODO: Set the delegate to InkjetPrinter and print</span>
<span class="w">        </span><span class="p">...</span>

<span class="w">        </span><span class="c1">// TODO: Set the delegate to LaserPrinter and print</span>
<span class="w">        </span><span class="p">...</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div></blockquote>
</div>
</section>
<section id="observer">
<h2>Observer<a class="headerlink" href="#observer" title="Permalink to this heading">¶</a></h2>
<p>In computer science, it is considered as a good practice to have a loose coupling between objects (the opposite is generally referred to as a “spaghetti code”).
Loose coupling allows for more modular and maintainable code.</p>
<p>The <em>Observer Design Pattern</em> is a pattern that we can use to have a loose coupling between objects.</p>
<p>We will first show how to use observers in the context of GUI development (Graphical User Interface), then will show how to implement observers.</p>
<section id="observer-pattern-on-gui-components">
<span id="awt-swing"></span><h3>Observer pattern on GUI components<a class="headerlink" href="#observer-pattern-on-gui-components" title="Permalink to this heading">¶</a></h3>
<p>In Java, the <code class="docutils literal notranslate"><span class="pre">swing</span></code> and <code class="docutils literal notranslate"><span class="pre">awt</span></code> packages facilitate the creation of Graphical User Interfaces (GUIs).
Swing in Java uses a system based on the observer pattern to handle events, such as mouse clicks.</p>
<p>On the next example we have a solitary button that, when clicked, responds with the message “Thank you” to the user.</p>
<div class="literal-block-wrapper docutils container" id="listener-gui">
<div class="code-block-caption"><span class="caption-text">Simple GUI with Action Listener</span><a class="headerlink" href="#listener-gui" title="Permalink to this code">¶</a></div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="kn">import</span><span class="w"> </span><span class="nn">javax.swing.JButton</span><span class="p">;</span>
<span class="w">    </span><span class="kn">import</span><span class="w"> </span><span class="nn">javax.swing.JFrame</span><span class="p">;</span>
<span class="w">    </span><span class="kn">import</span><span class="w"> </span><span class="nn">javax.swing.JOptionPane</span><span class="p">;</span>
<span class="w">    </span><span class="kn">import</span><span class="w"> </span><span class="nn">java.awt.event.ActionEvent</span><span class="p">;</span>
<span class="w">    </span><span class="kn">import</span><span class="w"> </span><span class="nn">java.awt.event.ActionListener</span><span class="p">;</span>

<span class="w">    </span><span class="kd">class</span> <span class="nc">ButtonActionListener</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">ActionListener</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nd">@Override</span>
<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">actionPerformed</span><span class="p">(</span><span class="n">ActionEvent</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">JOptionPane</span><span class="p">.</span><span class="na">showMessageDialog</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="s">&quot;Thank you!&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">AppWithActionListener</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">JFrame</span><span class="w"> </span><span class="n">frame</span><span class="o">=</span><span class="k">new</span><span class="w"> </span><span class="n">JFrame</span><span class="p">(</span><span class="s">&quot;Hello&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="n">frame</span><span class="p">.</span><span class="na">setSize</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span><span class="mi">200</span><span class="p">);</span>
<span class="w">            </span><span class="n">frame</span><span class="p">.</span><span class="na">setDefaultCloseOperation</span><span class="p">(</span><span class="n">JFrame</span><span class="p">.</span><span class="na">DISPOSE_ON_CLOSE</span><span class="p">);</span>

<span class="w">            </span><span class="n">JButton</span><span class="w"> </span><span class="n">button</span><span class="o">=</span><span class="k">new</span><span class="w"> </span><span class="n">JButton</span><span class="p">(</span><span class="s">&quot;Press me!&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="n">button</span><span class="p">.</span><span class="na">addActionListener</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">ButtonActionListener</span><span class="p">());</span>
<span class="w">            </span><span class="n">frame</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">button</span><span class="p">);</span>

<span class="w">            </span><span class="n">frame</span><span class="p">.</span><span class="na">setVisible</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
</pre></div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">ActionListener</span></code> is an interface within Java that contains a single method: <code class="docutils literal notranslate"><span class="pre">actionPerformed()</span></code>.
In our application, this interface is implemented by the <code class="docutils literal notranslate"><span class="pre">ButtonActionListener</span></code> concrete class.
When invoked, it displays a dialog with the message “Thank you!” to the user.
However, this setup remains inactive until we associate an instance of our <code class="docutils literal notranslate"><span class="pre">ButtonActionListener</span></code> to a button using the <code class="docutils literal notranslate"><span class="pre">addActionListener()</span></code> method. This ensures that every time the button is pressed, the <code class="docutils literal notranslate"><span class="pre">actionPerformed()</span></code> method of our listener gets triggered.</p>
<p>It is worth noting that the inner workings of how the button manages this relationship or stores the listener are abstracted away.
What is crucial for developers to understand is the contract: The listener’s method will be invoked whenever the button is clicked.
This process is often referred to as “attaching a callback” to the button, or as “registering an event handler” to the button.
This concept echoes a well-known programming principle sometimes dubbed the Hollywood principle: “Don’t call us, we will call you.”</p>
<p>Although we have registered only one listener to the button, this is not a limitation.
Buttons can accommodate multiple listeners. For example, a second listener could be added to track the total number of times the button has been clicked.</p>
<p>This setup exemplifies the observer design pattern from the perspective of end users, using the JButton as an illustration.
Let’s now delve into how to implement this pattern for custom classes.</p>
</section>
<section id="implementing-the-observer-pattern">
<h3>Implementing the Observer pattern<a class="headerlink" href="#implementing-the-observer-pattern" title="Permalink to this heading">¶</a></h3>
<p>Imagine a scenario where there’s a bank account that multiple people, say family members, can deposit into. Each family member possesses a smartphone and wishes to be alerted whenever a deposit occurs. For the sake of simplicity, these notifications will be printed to the console.
The complete source code is given next.</p>
<div class="literal-block-wrapper docutils container" id="listener-account">
<div class="code-block-caption"><span class="caption-text">Implementation of the Observable Design Pattern for an Account</span><a class="headerlink" href="#listener-account" title="Permalink to this code">¶</a></div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">AccountObserver</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">accountHasChanged</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">newValue</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>


<span class="w">    </span><span class="kd">class</span> <span class="nc">MyObserver</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">AccountObserver</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nd">@Override</span>
<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">accountHasChanged</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">newValue</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;The account has changed. New value: &quot;</span><span class="o">+</span><span class="n">newValue</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ObservableAccount</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">;</span>
<span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">AccountObserver</span><span class="o">&gt;</span><span class="w"> </span><span class="n">observers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">LinkedList</span><span class="p">();</span>

<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">deposit</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">d</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">value</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">d</span><span class="p">;</span>
<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">AccountObserver</span><span class="w"> </span><span class="n">o</span><span class="p">:</span><span class="w"> </span><span class="n">observers</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">o</span><span class="p">.</span><span class="na">accountHasChanged</span><span class="p">(</span><span class="n">value</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">addObserver</span><span class="p">(</span><span class="n">AccountObserver</span><span class="w"> </span><span class="n">o</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">observers</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">o</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">ObservableAccount</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ObservableAccount</span><span class="p">();</span>
<span class="w">            </span><span class="n">MyObserver</span><span class="w"> </span><span class="n">observerFather</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MyObserver</span><span class="p">();</span>
<span class="w">            </span><span class="n">MyObserver</span><span class="w"> </span><span class="n">observerMother</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MyObserver</span><span class="p">();</span>
<span class="w">            </span><span class="n">MyObserver</span><span class="w"> </span><span class="n">observerGirl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MyObserver</span><span class="p">();</span>
<span class="w">            </span><span class="n">MyObserver</span><span class="w"> </span><span class="n">observerBoy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MyObserver</span><span class="p">();</span>

<span class="w">            </span><span class="n">account</span><span class="p">.</span><span class="na">addObserver</span><span class="p">(</span><span class="n">observerFather</span><span class="p">);</span>
<span class="w">            </span><span class="n">account</span><span class="p">.</span><span class="na">addObserver</span><span class="p">(</span><span class="n">observerMother</span><span class="p">);</span>
<span class="w">            </span><span class="n">account</span><span class="p">.</span><span class="na">addObserver</span><span class="p">(</span><span class="n">observerGirl</span><span class="p">);</span>
<span class="w">            </span><span class="n">account</span><span class="p">.</span><span class="na">addObserver</span><span class="p">(</span><span class="n">observerBoy</span><span class="p">);</span>

<span class="w">            </span><span class="n">account</span><span class="p">.</span><span class="na">deposit</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span><span class="w"> </span><span class="c1">// prints 4X &quot;The account has changed. New Value: 100&quot;</span>
<span class="w">            </span><span class="n">account</span><span class="p">.</span><span class="na">deposit</span><span class="p">(</span><span class="mi">50</span><span class="p">);</span><span class="w">  </span><span class="c1">// prints 4X &quot;The account has changed. New Value: 150&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
</pre></div>
</div>
</div>
<p>In this context, our bank account is the subject being observed.
In our code, this will be modeled by the <code class="docutils literal notranslate"><span class="pre">ObservableAccount</span></code> class.
This account maintains a balance, which can be incremented through a deposit function.</p>
<p>We require a mechanism to register observers (note: the wordings “observer” and “listener” are synonyms that can be used interchangeably) who wish to be informed about deposits. The <code class="docutils literal notranslate"><span class="pre">LinkedList</span></code> data structure is an excellent choice for this purpose: It offers constant-time addition and seamlessly supports iterators since it implements the <code class="docutils literal notranslate"><span class="pre">Iterable</span></code> interface.
To add an <code class="docutils literal notranslate"><span class="pre">AccountObserver</span></code>, one would simply append it to this list.
We have chosen not to check for duplicate observers in the list, believing that ensuring uniqueness is the user’s responsibility.</p>
<p>Whenever a deposit occurs, the account balance is updated, and subsequently, each registered observer is notified by invoking its <code class="docutils literal notranslate"><span class="pre">accountHasChangedMethod()</span></code>, which shares the updated balance.</p>
<p>It is important to note that in this specific implementation, the order of notification is determined by the sequence of registrations because we are using a list. However, from a user’s standpoint, the caller should never make the hypothesis that this order is always used. Indeed, one could replace the <code class="docutils literal notranslate"><span class="pre">LinkedList</span></code> by another collection, for instance a set, which would not guarantee the same order while iterating over the observers.</p>
<div class="note admonition">
<p class="admonition-title">Exercise</p>
<blockquote>
<div><p>In this exercise, you will use the Observer pattern in conjunction with the Java Swing framework.
The application <code class="docutils literal notranslate"><span class="pre">MessageApp</span></code> provides a simple GUI (Graphical User Interface) where users can type a message and submit it.
This message, once submitted, goes through a spell checker and then is meant to be displayed to observers.</p>
<p>Your task is to make it work as expected: when a message is submitted, it is corrected by the spell checker and it is appended in the text area of the app (use <code class="docutils literal notranslate"><span class="pre">textArea.append(String</span> <span class="pre">text)</span></code>).</p>
<figure class="align-default">
<a class="reference internal image-reference" href="_images/gui_exercise.png"><img alt="GUI Exercise" src="_images/gui_exercise.png" style="width: 1332.0px; height: 468.0px;" /></a>
</figure>
<p>It is imperative that your design allows for seamless swapping of the spell checker without necessitating changes to the <code class="docutils literal notranslate"><span class="pre">MessageApp</span></code> class. Additionally, the <code class="docutils literal notranslate"><span class="pre">MessageSubject</span></code> class should remain decoupled from the <code class="docutils literal notranslate"><span class="pre">MessageApp</span></code>.
It must not depend on it and should not even be aware that it exists.</p>
<p>Use the observer pattern in your design. You’ll have to add instance variables and additional arguments to some existing constructors.
When possible, always prefer to depend on interfaces rather than on concrete classes when declaring your parameters.
With the advances of Deep Learning, we anticipate that we will soon have to replace the existing <code class="docutils literal notranslate"><span class="pre">StupidSpellChecker</span></code> by a more advanced one.
Make this planned change as simple as possible, without having to change your classes.</p>
<div class="literal-block-wrapper docutils container" id="message-app">
<div class="code-block-caption"><span class="caption-text">Implementation of GUI MessageApp</span><a class="headerlink" href="#message-app" title="Permalink to this code">¶</a></div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">javax.swing.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.awt.event.*</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.ArrayList</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>


<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MessageApp</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">JFrame</span><span class="w"> </span><span class="n">frame</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">JTextField</span><span class="w"> </span><span class="n">textField</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">JTextArea</span><span class="w"> </span><span class="n">textArea</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">JButton</span><span class="w"> </span><span class="n">submitButton</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">MessageApp</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="n">frame</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JFrame</span><span class="p">(</span><span class="s">&quot;Observer Pattern with Swing&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">textField</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JTextField</span><span class="p">(</span><span class="mi">16</span><span class="p">);</span>
<span class="w">        </span><span class="n">textArea</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JTextArea</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">);</span>
<span class="w">        </span><span class="n">submitButton</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JButton</span><span class="p">(</span><span class="s">&quot;Submit&quot;</span><span class="p">);</span>

<span class="w">        </span><span class="n">frame</span><span class="p">.</span><span class="na">setLayout</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">awt</span><span class="p">.</span><span class="na">FlowLayout</span><span class="p">());</span>

<span class="w">        </span><span class="n">frame</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">textField</span><span class="p">);</span>
<span class="w">        </span><span class="n">frame</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">submitButton</span><span class="p">);</span>
<span class="w">        </span><span class="n">frame</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">JScrollPane</span><span class="p">(</span><span class="n">textArea</span><span class="p">));</span>

<span class="w">        </span><span class="c1">// Hint: add an actionListner to the submitButon</span>
<span class="w">        </span><span class="c1">// Hint: use textField.getText() to retrieve the text</span>

<span class="w">        </span><span class="n">frame</span><span class="p">.</span><span class="na">setDefaultCloseOperation</span><span class="p">(</span><span class="n">JFrame</span><span class="p">.</span><span class="na">EXIT_ON_CLOSE</span><span class="p">);</span>
<span class="w">        </span><span class="n">frame</span><span class="p">.</span><span class="na">pack</span><span class="p">();</span>
<span class="w">        </span><span class="n">frame</span><span class="p">.</span><span class="na">setVisible</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">SwingUtilities</span><span class="p">.</span><span class="na">invokeLater</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Runnable</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">run</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">new</span><span class="w"> </span><span class="n">MessageApp</span><span class="p">();</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">interface</span> <span class="nc">SpellChecker</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="nf">correct</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">sentence</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">StupidSpellChecker</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">SpellChecker</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">correct</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">sentence</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">sentence</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">interface</span> <span class="nc">MessageObserver</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">updateMessage</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">message</span><span class="p">);</span>
<span class="p">}</span>


<span class="kd">class</span> <span class="nc">MessageSubject</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">MessageObserver</span><span class="o">&gt;</span><span class="w"> </span><span class="n">observers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">message</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">addObserver</span><span class="p">(</span><span class="n">MessageObserver</span><span class="w"> </span><span class="n">observer</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">observers</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">observer</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setMessage</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">message</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">message</span><span class="p">;</span>
<span class="w">        </span><span class="n">notifyAllObservers</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">notifyAllObservers</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">MessageObserver</span><span class="w"> </span><span class="n">observer</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">observers</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">observer</span><span class="p">.</span><span class="na">updateMessage</span><span class="p">(</span><span class="n">message</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div></blockquote>
</div>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/lepl1402.png" alt="Logo"/>
            </a></p>
<h3><a href="index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="part1.html">Part 1: From Python to Java</a></li>
<li class="toctree-l1"><a class="reference internal" href="part2.html">Part 2: Unit testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="part3.html">Part 3: Algorithms</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Part 4: Object Oriented Programming: Data Structures and Design Patterns</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#abstract-classes">Abstract classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#interfaces">Interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="#abstract-data-types-adt">Abstract Data Types (ADT)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#iterators">Iterators</a></li>
<li class="toctree-l2"><a class="reference internal" href="#delegation">Delegation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#observer">Observer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="part5.html">Part 5: Parallel Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="part6.html">Part 6: Functional Programming</a></li>
</ul>

  <div>
    <h3><a href="index.html">Download the book</a></h3>
    <a href="_static/lepl1402.pdf">PDF version of the book</a>
  </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="part5.html" title="Part 5: Parallel Programming"
             >next</a> |</li>
        <li class="right" >
          <a href="part3.html" title="Part 3: Algorithms"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">LEPL1402  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Part 4: Object Oriented Programming: Data Structures and Design Patterns</a></li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2023, Sébastien Jodogne, Ramin Sadre, Pierre Schaus.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.2.2.
    </div>
<div class="footer">
    <script type="text/javascript">
  (function() {
    var ga = document.createElement('script');
    ga.src = ('https:' == document.location.protocol ?
              'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    ga.setAttribute('async', 'true');
    document.documentElement.firstChild.appendChild(ga);
  })();
</script>
</div>

<script>
//open external links in a new window
function external_new_window() {
    for(var c = document.getElementsByTagName("a"), a = 0;a < c.length;a++) {
        var b = c[a];
        if(b.getAttribute("href") && b.hostname !== location.hostname) {
            b.target = "_blank";
            b.rel = "noopener";
        }
    }
}
//open PDF links in a new window
function pdf_new_window ()
{
    if (!document.getElementsByTagName) return false;
    var links = document.getElementsByTagName("a");
    for (var eleLink=0; eleLink < links.length; eleLink ++) {
    if ((links[eleLink].href.indexOf('.pdf') !== -1)||(links[eleLink].href.indexOf('.doc') !== -1)||(links[eleLink].href.indexOf('.docx') !== -1)) {
        links[eleLink].onclick =
        function() {
            window.open(this.href);
            return false;
        }
    }
    }
}
pdf_new_window();
external_new_window();
</script>


  </body>
</html>